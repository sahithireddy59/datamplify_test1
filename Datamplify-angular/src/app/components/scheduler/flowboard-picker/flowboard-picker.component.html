<div class="modal-header">
  <h5 class="modal-title">Select FlowBoard</h5>
  <button type="button" class="btn-close" aria-label="Close" (click)="activeModal.dismiss()"></button>
</div>

<div class="modal-body">
  <div class="d-flex mb-3 gap-2">
    <input class="form-control" [(ngModel)]="search" (keyup.enter)="applySearch()" placeholder="Search FlowBoards..." />
    <button class="btn btn-outline-secondary" (click)="applySearch()">
      <i class="fe fe-search"></i>
      Search
    </button>
  </div>

  <div *ngIf="loading" class="text-muted">Loading...</div>

  <div class="list-group" *ngIf="!loading">
    <button type="button" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center"
            *ngFor="let it of items" (click)="pick(it)">
      <div class="me-3">
        <div class="fw-semibold">{{ it.Flow_name }}</div>
        <div class="small text-muted">{{ it.Flow_id }}</div>
      </div>
      <span class="badge" [class.bg-success]="it.has_scheduler" [class.bg-secondary]="!it.has_scheduler">
        {{ it.has_scheduler ? 'Scheduled' : 'Not Scheduled' }}
      </span>
    </button>
    <div *ngIf="items.length === 0" class="text-center text-muted py-3">No FlowBoards found</div>
  </div>
</div>

<div class="modal-footer d-flex justify-content-between">
  <div>
    <button class="btn btn-outline-secondary me-2" (click)="prevPage()" [disabled]="page <= 1">Prev</button>
    <button class="btn btn-outline-secondary" (click)="nextPage()" [disabled]="page >= totalPages">Next</button>
    <span class="ms-2 small text-muted">Page {{ page }} / {{ totalPages }}</span>
  </div>
  <button class="btn btn-secondary" (click)="activeModal.dismiss()">Close</button>
</div>
